var loader=document.getElementById("preloader"),windows=document.querySelectorAll(".window_container");function toggleWindowsDisplay(){for(var e=window.innerWidth>1200?"unset":"none",t=0;t<windows.length;t++)windows[t].style.display=e}loader.style.display="flex",window.addEventListener("load",(function(){loader.style.display="none",toggleWindowsDisplay()}));var s=document.getElementById("preloader").style;s.opacity=1,function e(){(s.opacity-=.1)<0?s.display="none":setTimeout(e,40)}(),window.addEventListener("resize",toggleWindowsDisplay);for(var draggableElems=document.querySelectorAll(".draggable"),draggies=[],i=0,len=draggableElems.length;i<len;i++){var draggableElem=draggableElems[i],draggie=new Draggabilly(draggableElem,{handle:".window-header"});draggies.push(draggie)}var activeWindow=document.querySelector(".window_container"),init=(windows=document.querySelectorAll(".window_container"),function(){for(var e=0;e<windows.length;e++){windows[e].addEventListener("mouseover",(function(e){activeWindow.style.zIndex=10,(activeWindow=e.target.closest(".window_container")).style.zIndex=100}))}});init();let burger=document.getElementById("open");var toggleSidebar=function(e){document.getElementById("ham4").classList.toggle("active")};function copyText(){var e=document.getElementById("button88"),t=e.value;e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value),e.value="Copied!",setTimeout((function(){e.value=t}),2e3)}async function fetchJsonData(){try{const t=await fetch("./scripts/windows.json?v=3");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json(),a=document.getElementById("todo");for(const[e,t]of Object.entries(n.tasks))t.forEach((t=>{const n=document.createElement("li");if("done"==e){const e=document.createElement("del");e.textContent=t,n.appendChild(e)}else n.textContent=t;a.appendChild(n)}));for(const[e,t]of Object.entries(n.currently)){const n=document.getElementById(e);if(0==t.length){const e=document.createElement("li");e.textContent="nothing </3",n.appendChild(e)}else t.forEach((e=>{const t=document.createElement("li");t.textContent=e,n.appendChild(t)}))}function e(e,t,n,a){1==t[2]?e.appendChild(n):e.appendChild(a)}const o=document.getElementById("buttonwall");n.buttons.forEach((t=>{const n=document.createElement("img");if(n.alt=t[1],1==t[2]){var a=document.createElement("picture"),i=document.createElement("source");i.srcset=`images/88x31/${t[0]}.png`,i.media="(prefers-reduced-motion)",n.src=`images/88x31/${t[0]}.gif`,a.appendChild(i),a.appendChild(n)}else n.src=`images/88x31/${t[0]}.png`;if(t[3]){const i=document.createElement("a");i.href=t[3],i.target="_blank",e(i,t,a,n),o.appendChild(i)}else e(o,t,a,n)}))}catch(e){}}burger.addEventListener("click",toggleSidebar,!1),burger.addEventListener("keydown",(e=>{let t=e.code;"Escape"!=t&&"Enter"!=t||(toggleSidebar(e),document.getElementById("menu-toggle").checked=!document.getElementById("menu-toggle").checked)})),fetchJsonData();var Sakura=function(e,t){var n=this;if(void 0===e)throw new Error("No selector present. Define an element.");this.el=document.querySelector(e);var a,o;function i(e){return e[Math.floor(Math.random()*e.length)]}function r(e,t){return Math.floor(Math.random()*(t-e+1))+e}this.settings=(a={className:"sakura",fallSpeed:2,maxSize:14,minSize:9,delay:700,gradientColorStart:"rgba(181, 255, 220, 0.7)",gradientColorEnd:"rgba(120, 197, 161, 0.7)",gradientColorDegree:120,lifeTime:700},o=t,Object.keys(a).forEach((function(e){o&&Object.prototype.hasOwnProperty.call(o,e)&&(a[e]=o[e])})),a),this.el.style.overflowX="hidden";var s=["webkit","moz","MS","o",""];function d(e,t,n){for(var a=0;a<s.length;a+=1){var o=t;s[a]||(o=t.toLowerCase()),e.addEventListener(s[a]+o,n,!1)}}function l(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}this.createPetal=function(){n.el.dataset.sakuraAnimId&&setTimeout((function(){window.requestAnimationFrame(n.createPetal)}),n.settings.delay);var e=["sway-0","sway-1","sway-2","sway-3","sway-4","sway-5","sway-6","sway-7","sway-8"],t=i(["blow-soft-left","blow-medium-left","blow-soft-right","blow-medium-right"]),a=i(e),o=(.007*document.documentElement.clientHeight+Math.round(5*Math.random()))*n.settings.fallSpeed,s=["fall ".concat(o,"s linear 0s 1"),"".concat(t," ").concat((o>30?o:30)-20+r(0,20),"s linear 0s infinite"),"".concat(a," ").concat(r(2,4),"s linear 0s infinite")].join(", "),c=document.createElement("div");c.classList.add(n.settings.className);var u=r(n.settings.minSize,n.settings.maxSize),m=u-Math.floor(r(0,n.settings.minSize)/3);c.style.background="linear-gradient(".concat(n.settings.gradientColorDegree,"deg, ").concat(n.settings.gradientColorStart,", ").concat(n.settings.gradientColorEnd,")"),c.style.webkitAnimation=s,c.style.animation=s,c.style.borderRadius="".concat(r(n.settings.maxSize,n.settings.maxSize+Math.floor(10*Math.random())),"px ").concat(r(1,Math.floor(m/4)),"px"),c.style.height="".concat(u,"px"),c.style.left="".concat(Math.random()*document.documentElement.clientWidth-100,"px"),c.style.marginTop="".concat(-(Math.floor(20*Math.random())+15),"px"),c.style.width="".concat(m,"px"),d(c,"AnimationEnd",(function(){l(c)||c.remove()})),d(c,"AnimationIteration",(function(){l(c)||c.remove()})),n.el.appendChild(c)},this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))};Sakura.prototype.start=function(){if(this.el.dataset.sakuraAnimId)throw new Error("Sakura is already running.");this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))},Sakura.prototype.stop=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.el.dataset.sakuraAnimId;n&&(window.cancelAnimationFrame(n),this.el.setAttribute("data-sakura-anim-id","")),t||setTimeout((function(){for(var t=document.getElementsByClassName(e.settings.className);t.length>0;)t[0].parentNode.removeChild(t[0])}),this.settings.delay+50)};const isReducedMotionEnabled=window.matchMedia("(prefers-reduced-motion: reduce)").matches;let sakura;isReducedMotionEnabled||(sakura=new Sakura("body",{})),leavesButton=document.querySelector("#leavesButton"),leavesButton.addEventListener("click",(()=>{""===sakura.el.getAttribute("data-sakura-anim-id")?sakura.start():sakura.stop()}));